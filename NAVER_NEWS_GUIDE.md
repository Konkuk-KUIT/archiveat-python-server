# ë„¤ì´ë²„ ë‰´ìŠ¤ í¬ë¡¤ë§ & ìš”ì•½ í†µí•© ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

ë„¤ì´ë²„ ë‰´ìŠ¤ ë° ì¼ë°˜ ì›¹ ì½˜í…ì¸ ë¥¼ í¬ë¡¤ë§í•˜ê³  Gemini AIë¡œ ìš”ì•½í•˜ëŠ” ê¸°ëŠ¥ì„ Python ì„œë²„ì— í†µí•©í–ˆìŠµë‹ˆë‹¤.

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### 1. **ì‚¬ìš©ì ë©”ëª¨ ê¸°ë°˜ ë¶„ë¥˜**
ì‚¬ìš©ìê°€ ì œê³µí•œ ë©”ëª¨ë¥¼ ìš°ì„ ì ìœ¼ë¡œ ê³ ë ¤í•˜ì—¬ ì¹´í…Œê³ ë¦¬/í† í”½ì„ ê²°ì •í•©ë‹ˆë‹¤.

**ì˜ˆì‹œ**:
- ê¸°ì‚¬: "ì• í”Œ ë¹„ì „ í”„ë¡œ ì¶œì‹œ" (ì›ë˜ëŠ” IT/ê³¼í•™ > í…Œí¬)
- ë©”ëª¨: "ì• í”Œ ì£¼ê°€ ë¶„ì„ìš©"
- ê²°ê³¼: **ê²½ì œ > ì£¼ì‹**ìœ¼ë¡œ ë¶„ë¥˜ âœ…

### 2. **ìë™ í¬ë¡¤ëŸ¬ ì„ íƒ**
- **ë„¤ì´ë²„ ë‰´ìŠ¤**: íŠ¹í™”ëœ íŒŒì„œë¡œ ì •í™•í•œ ë³¸ë¬¸ ì¶”ì¶œ
- **ì¼ë°˜ ì›¹**: readability ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë³¸ë¬¸ ì¶”ì¶œ

### 3. **Gemini AI ìš”ì•½**
ê¸°ì¡´ `summarizer.py`ë¥¼ í™œìš©í•˜ì—¬ 5ê°€ì§€ ì¹´í…Œê³ ë¦¬ & í† í”½ìœ¼ë¡œ ë¶„ë¥˜ + 3ë‹¨ê³„ ìš”ì•½

## ğŸ“ ìƒì„±ëœ íŒŒì¼

- [`services/naver_news.py`](services/naver_news.py) - í¬ë¡¤ëŸ¬ ë¡œì§
- [`test_naver_news.py`](test_naver_news.py) - í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸

## ğŸ”„ ìˆ˜ì •ëœ íŒŒì¼

- [`main.py`](main.py) - `/api/v1/summarize/naver-news` ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
- [`models.py`](models.py) - `SummarizeNaverNewsRequest` ëª¨ë¸ ì¶”ê°€
- [`requirements.txt`](requirements.txt) - ì›¹ ìŠ¤í¬ë˜í•‘ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€

## ğŸš€ ì‚¬ìš© ë°©ë²•

### 1. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
cd archiveat-python-server
pip install -r requirements.txt
```

### 2. ë¡œì»¬ í…ŒìŠ¤íŠ¸ (ì„œë²„ ì—†ì´)
```bash
python test_naver_news.py
```

### 3. FastAPI ì„œë²„ ì‹¤í–‰
```bash
python -m uvicorn main:app --reload --port 8000
```

### 4. API í˜¸ì¶œ ì˜ˆì‹œ

#### curlë¡œ í…ŒìŠ¤íŠ¸
```bash
curl -X POST http://localhost:8000/api/v1/summarize/naver-news \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://n.news.naver.com/mnews/article/629/0000461258",
    "user_memo": "ë°˜ë„ì²´ ê´€ë ¨ì£¼ ì£¼ê°€ ì˜í–¥ ë¶„ì„ìš©"
  }'
```

#### Python requestsë¡œ í…ŒìŠ¤íŠ¸
```python
import requests

response = requests.post(
    "http://localhost:8000/api/v1/summarize/naver-news",
    json={
        "url": "https://n.news.naver.com/mnews/article/629/0000461258",
        "user_memo": "ë°˜ë„ì²´ ê´€ë ¨ì£¼ ì£¼ê°€ ì˜í–¥ ë¶„ì„ìš©"  # ì„ íƒì‚¬í•­
    }
)

print(response.json())
```

## ğŸ“Š API ì‘ë‹µ í˜•ì‹

```json
{
  "video_info": null,
  "analysis": {
    "category": "ê²½ì œ",
    "topic": "ì£¼ì‹",
    "small_card_summary": "20ì ìš”ì•½...",
    "medium_card_summary": "2-3ë¬¸ì¥ ìš”ì•½...",
    "newsletter_summary": [
      {
        "title": "ì†Œì œëª©1",
        "content": "ë‚´ìš©1"
      },
      {
        "title": "ì†Œì œëª©2",
        "content": "ë‚´ìš©2"
      },
      {
        "title": "ì†Œì œëª©3",
        "content": "ë‚´ìš©3"
      }
    ]
  }
}
```

## ğŸ”— Java ì„œë²„ ì—°ë™

Java ì„œë²„ì—ì„œëŠ” ê¸°ì¡´ `/api/v1/summarize/youtube` ì—”ë“œí¬ì¸íŠ¸ì™€ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ í˜¸ì¶œ ê°€ëŠ¥í•©ë‹ˆë‹¤.

**PythonClientService í™•ì¥ í•„ìš” (ì„ íƒì‚¬í•­)**:
```java
public CompletableFuture<PythonSummaryResponse> requestNaverNewsSummary(String url, String userMemo) {
    // POST /api/v1/summarize/naver-news
    // ...
}
```

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **Gemini API í‚¤**: `.env` íŒŒì¼ì— `GEMINI_API_KEY` ì„¤ì • í•„ìˆ˜
2. **í¬ë¡¤ë§ ì œí•œ**: ì¼ë¶€ ì‚¬ì´íŠ¸ëŠ” í¬ë¡¤ë§ì„ ì°¨ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
3. **ì²˜ë¦¬ ì‹œê°„**: 5-10ì´ˆ ì†Œìš” (í¬ë¡¤ë§ 2-3ì´ˆ + Gemini 3-7ì´ˆ)
4. **User-Agent**: ì°¨ë‹¨ ë°©ì§€ë¥¼ ìœ„í•´ í—¤ë” ì„¤ì •ë¨

## ğŸ§ª í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì˜ˆì‹œ

```
TEST 1: ë„¤ì´ë²„ ë‰´ìŠ¤ í¬ë¡¤ë§
============================================================
Type: NAVER_NEWS
Title: [ë‹¨ë…] ì‚¼ì„±ì „ì, AI ë°˜ë„ì²´ ê°œë°œ ë°•ì°¨...
Content (first 200 chars): ì‚¼ì„±ì „ìê°€ ì¸ê³µì§€ëŠ¥(AI) ë°˜ë„ì²´ ê°œë°œì— ë°•ì°¨ë¥¼ ê°€í•˜ê³  ìˆë‹¤...
Thumbnail: https://...

TEST 2: ë„¤ì´ë²„ ë‰´ìŠ¤ í¬ë¡¤ë§ + Gemini ìš”ì•½
============================================================
âœ… ì œëª©: [ë‹¨ë…] ì‚¼ì„±ì „ì, AI ë°˜ë„ì²´ ê°œë°œ ë°•ì°¨...
âœ… ë³¸ë¬¸ ê¸¸ì´: 2453 characters
âœ… ì‚¬ìš©ì ë©”ëª¨: ë°˜ë„ì²´ ê´€ë ¨ì£¼ ì£¼ê°€ ì˜í–¥ ë¶„ì„ìš©

ìµœì¢… ê²°ê³¼ (JSON)
============================================================
{
  "category": "ê²½ì œ",
  "topic": "ì£¼ì‹",
  "small_card_summary": "ì‚¼ì„±ì „ì AI ë°˜ë„ì²´ ê°œë°œ ê°€ì†í™”",
  ...
}
```

## ğŸ“ í™•ì¥ ì•„ì´ë””ì–´

1. **ìºì‹±**: ë™ì¼ URL ì¬ìš”ì²­ ì‹œ DB/Redis ìºì‹œ í™œìš©
2. **ë°°ì¹˜ ì²˜ë¦¬**: ì—¬ëŸ¬ URL í•œë²ˆì— ìš”ì•½
3. **ì´ë¯¸ì§€ ì¶”ì¶œ**: ì¸ë„¤ì¼ ì™¸ ë³¸ë¬¸ ì´ë¯¸ì§€ë„ ì €ì¥
4. **ì–¸ë¡ ì‚¬ ì •ë³´**: ë„¤ì´ë²„ ë‰´ìŠ¤ ì–¸ë¡ ì‚¬ ì •ë³´ ì¶”ì¶œ
5. **ëŒ“ê¸€ ë¶„ì„**: ë„¤ì´ë²„ ëŒ“ê¸€ í¬ë¡¤ë§ ë° ê°ì„± ë¶„ì„
